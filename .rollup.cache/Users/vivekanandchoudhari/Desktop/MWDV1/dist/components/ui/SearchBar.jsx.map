{"version":3,"file":"SearchBar.jsx","sourceRoot":"","sources":["../../../src/components/ui/SearchBar.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\nimport React, { useState, useRef, useCallback, useEffect } from 'react'\nimport { Search, X, Loader2 } from 'lucide-react'\n\nfunction cn(...classes: (string | undefined | null | false)[]): string {\n  return classes.filter(Boolean).join(' ')\n}\n\ninterface SearchBarProps {\n  placeholder?: string\n  value?: string\n  onChange?: (value: string) => void\n  onSearch?: (value: string) => void\n  onClear?: () => void\n  suggestions?: string[]\n  loading?: boolean\n  disabled?: boolean\n  size?: 'sm' | 'md' | 'lg'\n  variant?: 'default' | 'filled' | 'outlined'\n  showClearButton?: boolean\n  debounceMs?: number\n  className?: string\n  autoFocus?: boolean\n  maxSuggestions?: number\n}\n\ninterface SearchResultsProps {\n  results: Array<{\n    id: string\n    title: string\n    description?: string\n    category?: string\n    url?: string\n    onClick?: () => void\n  }>\n  loading?: boolean\n  onResultClick?: (result: any) => void\n  className?: string\n}\n\nconst searchSizes = {\n  sm: 'h-8 text-sm',\n  md: 'h-10 text-base',\n  lg: 'h-12 text-lg'\n}\n\nconst searchVariants = {\n  default: 'border-mw-gray-300 dark:border-mw-gray-600 bg-white dark:bg-mw-gray-800',\n  filled: 'border-transparent bg-mw-gray-100 dark:bg-mw-gray-700',\n  outlined: 'border-2 border-mw-gray-300 dark:border-mw-gray-600 bg-white dark:bg-mw-gray-800'\n}\n\nexport function SearchBar({\n  placeholder = 'Search...',\n  value: controlledValue,\n  onChange,\n  onSearch,\n  onClear,\n  suggestions = [],\n  loading = false,\n  disabled = false,\n  size = 'md',\n  variant = 'default',\n  showClearButton = true,\n  debounceMs = 300,\n  className,\n  autoFocus = false,\n  maxSuggestions = 5\n}: SearchBarProps) {\n  const [internalValue, setInternalValue] = useState('')\n  const [showSuggestions, setShowSuggestions] = useState(false)\n  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const suggestionRefs = useRef<(HTMLLIElement | null)[]>([])\n  const debounceRef = useRef<NodeJS.Timeout>()\n\n  const value = controlledValue !== undefined ? controlledValue : internalValue\n  const filteredSuggestions = suggestions\n    .filter(suggestion => \n      suggestion.toLowerCase().includes(value.toLowerCase()) && \n      suggestion.toLowerCase() !== value.toLowerCase()\n    )\n    .slice(0, maxSuggestions)\n\n  useEffect(() => {\n    if (autoFocus && inputRef.current) {\n      inputRef.current.focus()\n    }\n  }, [autoFocus])\n\n  const handleValueChange = useCallback((newValue: string) => {\n    if (controlledValue === undefined) {\n      setInternalValue(newValue)\n    }\n    onChange?.(newValue)\n\n    // Debounced search\n    if (debounceRef.current) {\n      clearTimeout(debounceRef.current)\n    }\n    \n    debounceRef.current = setTimeout(() => {\n      onSearch?.(newValue)\n    }, debounceMs)\n\n    // Show suggestions if there's a value\n    setShowSuggestions(newValue.length > 0 && filteredSuggestions.length > 0)\n    setActiveSuggestionIndex(-1)\n  }, [controlledValue, onChange, onSearch, debounceMs, filteredSuggestions.length])\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    handleValueChange(e.target.value)\n  }\n\n  const handleClear = () => {\n    handleValueChange('')\n    onClear?.()\n    setShowSuggestions(false)\n    inputRef.current?.focus()\n  }\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    onSearch?.(value)\n    setShowSuggestions(false)\n  }\n\n  const handleSuggestionClick = (suggestion: string) => {\n    handleValueChange(suggestion)\n    setShowSuggestions(false)\n    onSearch?.(suggestion)\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (!showSuggestions) return\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault()\n        setActiveSuggestionIndex(prev => \n          prev < filteredSuggestions.length - 1 ? prev + 1 : prev\n        )\n        break\n      case 'ArrowUp':\n        e.preventDefault()\n        setActiveSuggestionIndex(prev => prev > 0 ? prev - 1 : -1)\n        break\n      case 'Enter':\n        if (activeSuggestionIndex >= 0) {\n          e.preventDefault()\n          handleSuggestionClick(filteredSuggestions[activeSuggestionIndex])\n        }\n        break\n      case 'Escape':\n        setShowSuggestions(false)\n        setActiveSuggestionIndex(-1)\n        break\n    }\n  }\n\n  useEffect(() => {\n    if (activeSuggestionIndex >= 0 && suggestionRefs.current[activeSuggestionIndex]) {\n      suggestionRefs.current[activeSuggestionIndex]?.scrollIntoView({\n        block: 'nearest'\n      })\n    }\n  }, [activeSuggestionIndex])\n\n  return (\n    <div className={cn('relative', className)}>\n      <form onSubmit={handleSubmit} className=\"relative\">\n        <div className=\"relative\">\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            {loading ? (\n              <Loader2 className=\"w-4 h-4 text-mw-gray-400 animate-spin\" />\n            ) : (\n              <Search className=\"w-4 h-4 text-mw-gray-400\" />\n            )}\n          </div>\n          \n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={value}\n            onChange={handleInputChange}\n            onKeyDown={handleKeyDown}\n            onFocus={() => {\n              if (value.length > 0 && filteredSuggestions.length > 0) {\n                setShowSuggestions(true)\n              }\n            }}\n            onBlur={() => {\n              // Delay hiding suggestions to allow clicks\n              setTimeout(() => setShowSuggestions(false), 200)\n            }}\n            placeholder={placeholder}\n            disabled={disabled}\n            className={cn(\n              'block w-full pl-10 pr-10 rounded-md border focus:outline-none focus:ring-2 focus:ring-mw-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed',\n              searchSizes[size],\n              searchVariants[variant],\n              'text-mw-gray-900 dark:text-white placeholder-mw-gray-500 dark:placeholder-mw-gray-400'\n            )}\n          />\n          \n          {showClearButton && value && (\n            <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\n              <button\n                type=\"button\"\n                onClick={handleClear}\n                className=\"text-mw-gray-400 hover:text-mw-gray-600 dark:hover:text-mw-gray-200\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n          )}\n        </div>\n      </form>\n\n      {/* Suggestions dropdown */}\n      {showSuggestions && filteredSuggestions.length > 0 && (\n        <div className=\"absolute z-50 w-full mt-1 bg-white dark:bg-mw-gray-800 border border-mw-gray-200 dark:border-mw-gray-700 rounded-md shadow-lg max-h-60 overflow-auto\">\n          <ul className=\"py-1\">\n            {filteredSuggestions.map((suggestion, index) => (\n              <li\n                key={suggestion}\n                ref={el => { suggestionRefs.current[index] = el }}\n                className={cn(\n                  'px-3 py-2 text-sm cursor-pointer',\n                  index === activeSuggestionIndex\n                    ? 'bg-mw-blue-100 dark:bg-mw-blue-900/20 text-mw-blue-700 dark:text-mw-blue-300'\n                    : 'text-mw-gray-900 dark:text-white hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700'\n                )}\n                onClick={() => handleSuggestionClick(suggestion)}\n              >\n                <div className=\"flex items-center\">\n                  <Search className=\"w-3 h-3 mr-2 text-mw-gray-400\" />\n                  {suggestion}\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport function SearchResults({\n  results,\n  loading = false,\n  onResultClick,\n  className\n}: SearchResultsProps) {\n  if (loading) {\n    return (\n      <div className={cn('flex items-center justify-center p-8', className)}>\n        <div className=\"text-center\">\n          <Loader2 className=\"w-8 h-8 mx-auto mb-4 text-mw-gray-400 animate-spin\" />\n          <p className=\"text-sm text-mw-gray-500 dark:text-mw-gray-400\">\n            Searching...\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  if (results.length === 0) {\n    return (\n      <div className={cn('text-center p-8', className)}>\n        <Search className=\"w-8 h-8 mx-auto mb-4 text-mw-gray-400\" />\n        <p className=\"text-sm text-mw-gray-500 dark:text-mw-gray-400\">\n          No results found\n        </p>\n      </div>\n    )\n  }\n\n  return (\n    <div className={cn('space-y-4', className)}>\n      {results.map((result) => (\n        <div\n          key={result.id}\n          className=\"p-4 border border-mw-gray-200 dark:border-mw-gray-700 rounded-lg hover:bg-mw-gray-50 dark:hover:bg-mw-gray-800/50 cursor-pointer transition-colors\"\n          onClick={() => {\n            result.onClick?.()\n            onResultClick?.(result)\n          }}\n        >\n          {result.category && (\n            <p className=\"text-xs text-mw-blue-600 dark:text-mw-blue-400 font-medium mb-1\">\n              {result.category}\n            </p>\n          )}\n          <h3 className=\"text-sm font-medium text-mw-gray-900 dark:text-white mb-1\">\n            {result.title}\n          </h3>\n          {result.description && (\n            <p className=\"text-xs text-mw-gray-600 dark:text-mw-gray-300\">\n              {result.description}\n            </p>\n          )}\n        </div>\n      ))}\n    </div>\n  )\n}\n"]}