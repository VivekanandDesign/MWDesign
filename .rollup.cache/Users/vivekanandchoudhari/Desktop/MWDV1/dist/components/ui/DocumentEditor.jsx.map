{"version":3,"file":"DocumentEditor.jsx","sourceRoot":"","sources":["../../../src/components/ui/DocumentEditor.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\nimport React, { useState, useRef, useCallback, useEffect } from 'react'\nimport { \n  Save, \n  Download, \n  Upload, \n  FileText, \n  Eye, \n  Edit3, \n  Share2, \n  Settings, \n  ZoomIn, \n  ZoomOut, \n  RotateCcw, \n  RotateCw,\n  Search,\n  Replace,\n  Bold,\n  Italic,\n  Underline,\n  AlignLeft,\n  AlignCenter,\n  AlignRight,\n  List,\n  ListOrdered,\n  Type,\n  Palette,\n  Plus,\n  Minus\n} from 'lucide-react'\n\nfunction cn(...classes: (string | undefined | null | false)[]): string {\n  return classes.filter(Boolean).join(' ')\n}\n\ninterface DocumentEditorProps {\n  value?: string\n  onChange?: (value: string) => void\n  title?: string\n  onTitleChange?: (title: string) => void\n  mode?: 'edit' | 'view' | 'split'\n  showToolbar?: boolean\n  showSidebar?: boolean\n  showStatusBar?: boolean\n  autoSave?: boolean\n  autoSaveInterval?: number\n  className?: string\n  onSave?: (content: string) => void\n  onExport?: (format: 'pdf' | 'docx' | 'txt') => void\n  readOnly?: boolean\n  collaborative?: boolean\n  zoom?: number\n  onZoomChange?: (zoom: number) => void\n}\n\ninterface DocumentStats {\n  characters: number\n  words: number\n  lines: number\n  pages: number\n}\n\nfunction calculateStats(content: string): DocumentStats {\n  const characters = content.length\n  const words = content.trim() ? content.trim().split(/\\s+/).length : 0\n  const lines = content.split('\\n').length\n  const pages = Math.ceil(words / 250) || 1 // Approximate 250 words per page\n  \n  return { characters, words, lines, pages }\n}\n\nexport function DocumentEditor({\n  value = '',\n  onChange,\n  title = 'Untitled Document',\n  onTitleChange,\n  mode = 'edit',\n  showToolbar = true,\n  showSidebar = false,\n  showStatusBar = true,\n  autoSave = false,\n  autoSaveInterval = 30000,\n  className,\n  onSave,\n  onExport,\n  readOnly = false,\n  collaborative = false,\n  zoom = 100,\n  onZoomChange\n}: DocumentEditorProps) {\n  const [content, setContent] = useState(value)\n  const [documentTitle, setDocumentTitle] = useState(title)\n  const [currentMode, setCurrentMode] = useState(mode)\n  const [isModified, setIsModified] = useState(false)\n  const [findReplace, setFindReplace] = useState({ show: false, find: '', replace: '' })\n  const [currentZoom, setCurrentZoom] = useState(zoom)\n  const [stats, setStats] = useState<DocumentStats>(calculateStats(value))\n  const editorRef = useRef<HTMLTextAreaElement>(null)\n  const autoSaveRef = useRef<NodeJS.Timeout>()\n\n  useEffect(() => {\n    setContent(value)\n    setStats(calculateStats(value))\n  }, [value])\n\n  useEffect(() => {\n    if (autoSave && isModified) {\n      if (autoSaveRef.current) clearTimeout(autoSaveRef.current)\n      autoSaveRef.current = setTimeout(() => {\n        handleSave()\n      }, autoSaveInterval)\n    }\n    return () => {\n      if (autoSaveRef.current) clearTimeout(autoSaveRef.current)\n    }\n  }, [content, isModified, autoSave, autoSaveInterval])\n\n  const handleContentChange = useCallback((newContent: string) => {\n    setContent(newContent)\n    setStats(calculateStats(newContent))\n    setIsModified(true)\n    onChange?.(newContent)\n  }, [onChange])\n\n  const handleTitleChange = useCallback((newTitle: string) => {\n    setDocumentTitle(newTitle)\n    onTitleChange?.(newTitle)\n  }, [onTitleChange])\n\n  const handleSave = useCallback(() => {\n    onSave?.(content)\n    setIsModified(false)\n  }, [content, onSave])\n\n  const handleZoom = useCallback((newZoom: number) => {\n    const clampedZoom = Math.max(50, Math.min(200, newZoom))\n    setCurrentZoom(clampedZoom)\n    onZoomChange?.(clampedZoom)\n  }, [onZoomChange])\n\n  const formatText = useCallback((command: string, value?: string) => {\n    if (readOnly || !editorRef.current) return\n    \n    const textarea = editorRef.current\n    const start = textarea.selectionStart\n    const end = textarea.selectionEnd\n    const selectedText = content.substring(start, end)\n    \n    let newText = selectedText\n    switch (command) {\n      case 'bold':\n        newText = `**${selectedText}**`\n        break\n      case 'italic':\n        newText = `*${selectedText}*`\n        break\n      case 'underline':\n        newText = `_${selectedText}_`\n        break\n      case 'heading1':\n        newText = `# ${selectedText}`\n        break\n      case 'heading2':\n        newText = `## ${selectedText}`\n        break\n      case 'bulletList':\n        newText = `- ${selectedText}`\n        break\n      case 'numberedList':\n        newText = `1. ${selectedText}`\n        break\n    }\n    \n    const newContent = content.substring(0, start) + newText + content.substring(end)\n    handleContentChange(newContent)\n    \n    setTimeout(() => {\n      textarea.focus()\n      textarea.setSelectionRange(start, start + newText.length)\n    }, 0)\n  }, [content, readOnly, handleContentChange])\n\n  const toolbar = showToolbar && (\n    <div className=\"flex items-center justify-between p-2 border-b border-mw-gray-200 dark:border-mw-gray-700 bg-mw-gray-50 dark:bg-mw-gray-800/50\">\n      <div className=\"flex items-center gap-2\">\n        {/* File Operations */}\n        <div className=\"flex items-center gap-1\">\n          <button\n            onClick={handleSave}\n            disabled={!isModified}\n            className=\"p-2 rounded-md hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700 disabled:opacity-50\"\n            title=\"Save\"\n          >\n            <Save className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={() => onExport?.('pdf')}\n            className=\"p-2 rounded-md hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700\"\n            title=\"Export as PDF\"\n          >\n            <Download className=\"w-4 h-4\" />\n          </button>\n        </div>\n\n        <div className=\"w-px h-6 bg-mw-gray-300 dark:bg-mw-gray-600\" />\n\n        {/* Formatting */}\n        <div className=\"flex items-center gap-1\">\n          <button\n            onClick={() => formatText('bold')}\n            className=\"p-2 rounded-md hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700\"\n            title=\"Bold\"\n          >\n            <Bold className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={() => formatText('italic')}\n            className=\"p-2 rounded-md hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700\"\n            title=\"Italic\"\n          >\n            <Italic className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={() => formatText('underline')}\n            className=\"p-2 rounded-md hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700\"\n            title=\"Underline\"\n          >\n            <Underline className=\"w-4 h-4\" />\n          </button>\n        </div>\n\n        <div className=\"w-px h-6 bg-mw-gray-300 dark:bg-mw-gray-600\" />\n\n        {/* Alignment */}\n        <div className=\"flex items-center gap-1\">\n          <button\n            onClick={() => formatText('alignLeft')}\n            className=\"p-2 rounded-md hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700\"\n            title=\"Align Left\"\n          >\n            <AlignLeft className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={() => formatText('alignCenter')}\n            className=\"p-2 rounded-md hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700\"\n            title=\"Align Center\"\n          >\n            <AlignCenter className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={() => formatText('alignRight')}\n            className=\"p-2 rounded-md hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700\"\n            title=\"Align Right\"\n          >\n            <AlignRight className=\"w-4 h-4\" />\n          </button>\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-2\">\n        {/* View Mode */}\n        <div className=\"flex items-center border border-mw-gray-300 dark:border-mw-gray-600 rounded-md\">\n          <button\n            onClick={() => setCurrentMode('edit')}\n            className={cn(\n              'px-3 py-1 text-sm rounded-l-md',\n              currentMode === 'edit' \n                ? 'bg-mw-blue-100 dark:bg-mw-blue-900/20 text-mw-blue-700 dark:text-mw-blue-300'\n                : 'hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700'\n            )}\n          >\n            <Edit3 className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={() => setCurrentMode('view')}\n            className={cn(\n              'px-3 py-1 text-sm',\n              currentMode === 'view' \n                ? 'bg-mw-blue-100 dark:bg-mw-blue-900/20 text-mw-blue-700 dark:text-mw-blue-300'\n                : 'hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700'\n            )}\n          >\n            <Eye className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={() => setCurrentMode('split')}\n            className={cn(\n              'px-3 py-1 text-sm rounded-r-md',\n              currentMode === 'split' \n                ? 'bg-mw-blue-100 dark:bg-mw-blue-900/20 text-mw-blue-700 dark:text-mw-blue-300'\n                : 'hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700'\n            )}\n          >\n            <FileText className=\"w-4 h-4\" />\n          </button>\n        </div>\n\n        {/* Zoom */}\n        <div className=\"flex items-center gap-1\">\n          <button\n            onClick={() => handleZoom(currentZoom - 10)}\n            className=\"p-1 rounded hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700\"\n            title=\"Zoom Out\"\n          >\n            <ZoomOut className=\"w-4 h-4\" />\n          </button>\n          <span className=\"text-sm min-w-[3rem] text-center\">{currentZoom}%</span>\n          <button\n            onClick={() => handleZoom(currentZoom + 10)}\n            className=\"p-1 rounded hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700\"\n            title=\"Zoom In\"\n          >\n            <ZoomIn className=\"w-4 h-4\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n\n  const statusBar = showStatusBar && (\n    <div className=\"flex items-center justify-between p-2 border-t border-mw-gray-200 dark:border-mw-gray-700 bg-mw-gray-50 dark:bg-mw-gray-800/50 text-xs text-mw-gray-600 dark:text-mw-gray-400\">\n      <div className=\"flex items-center gap-4\">\n        <span>{stats.words} words</span>\n        <span>{stats.characters} characters</span>\n        <span>{stats.lines} lines</span>\n        <span>Page {stats.pages}</span>\n        {isModified && <span className=\"text-mw-orange-500\">- Unsaved changes</span>}\n        {autoSave && <span className=\"text-mw-green-500\">- Auto-save enabled</span>}\n      </div>\n      <div className=\"flex items-center gap-4\">\n        {collaborative && <span className=\"text-mw-blue-500\">- Collaborative</span>}\n        <span>UTF-8</span>\n      </div>\n    </div>\n  )\n\n  const editorContent = (\n    <div className=\"flex-1 relative\">\n      <textarea\n        ref={editorRef}\n        value={content}\n        onChange={(e) => handleContentChange(e.target.value)}\n        placeholder=\"Start writing your document...\"\n        readOnly={readOnly}\n        className={cn(\n          'w-full h-full p-6 border-0 resize-none focus:outline-none',\n          'bg-white dark:bg-mw-gray-900',\n          'text-mw-gray-900 dark:text-white',\n          'placeholder-mw-gray-500 dark:placeholder-mw-gray-400',\n          'font-mono leading-relaxed'\n        )}\n        style={{ \n          fontSize: `${currentZoom}%`,\n          lineHeight: 1.6,\n          minHeight: '500px'\n        }}\n      />\n    </div>\n  )\n\n  const previewContent = (\n    <div className=\"flex-1 p-6 overflow-auto\">\n      <div \n        className=\"prose prose-lg max-w-none dark:prose-invert\"\n        style={{ fontSize: `${currentZoom}%` }}\n      >\n        <div dangerouslySetInnerHTML={{ __html: content.replace(/\\n/g, '<br>') }} />\n      </div>\n    </div>\n  )\n\n  return (\n    <div className={cn('flex flex-col h-full border border-mw-gray-300 dark:border-mw-gray-600 rounded-lg overflow-hidden bg-white dark:bg-mw-gray-900', className)}>\n      {/* Document Title */}\n      <div className=\"p-3 border-b border-mw-gray-200 dark:border-mw-gray-700\">\n        <input\n          type=\"text\"\n          value={documentTitle}\n          onChange={(e) => handleTitleChange(e.target.value)}\n          className=\"text-lg font-semibold bg-transparent border-0 focus:outline-none w-full text-mw-gray-900 dark:text-white\"\n          placeholder=\"Document title...\"\n          readOnly={readOnly}\n        />\n      </div>\n\n      {toolbar}\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {currentMode === 'edit' && editorContent}\n        {currentMode === 'view' && previewContent}\n        {currentMode === 'split' && (\n          <>\n            <div className=\"flex-1 border-r border-mw-gray-200 dark:border-mw-gray-700\">\n              {editorContent}\n            </div>\n            <div className=\"flex-1\">\n              {previewContent}\n            </div>\n          </>\n        )}\n      </div>\n\n      {statusBar}\n    </div>\n  )\n}\n\nexport default DocumentEditor\n"]}