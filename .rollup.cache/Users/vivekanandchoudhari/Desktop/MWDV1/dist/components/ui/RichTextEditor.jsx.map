{"version":3,"file":"RichTextEditor.jsx","sourceRoot":"","sources":["../../../src/components/ui/RichTextEditor.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\nimport React, { useState, useRef, useCallback, useEffect } from 'react'\nimport { \n  Bold, \n  Italic, \n  Underline, \n  Strikethrough, \n  AlignLeft, \n  AlignCenter, \n  AlignRight, \n  AlignJustify,\n  List,\n  ListOrdered,\n  Quote,\n  Link,\n  Image,\n  Code,\n  Redo,\n  Undo,\n  Type,\n  Palette,\n  Eye,\n  Edit3\n} from 'lucide-react'\n\nfunction cn(...classes: (string | undefined | null | false)[]): string {\n  return classes.filter(Boolean).join(' ')\n}\n\ninterface RichTextEditorProps {\n  value?: string\n  onChange?: (value: string) => void\n  placeholder?: string\n  disabled?: boolean\n  readOnly?: boolean\n  minHeight?: number\n  maxHeight?: number\n  showToolbar?: boolean\n  toolbarPosition?: 'top' | 'bottom'\n  enablePreview?: boolean\n  className?: string\n  onFocus?: () => void\n  onBlur?: () => void\n}\n\ninterface ToolbarButtonProps {\n  onClick: () => void\n  active?: boolean\n  disabled?: boolean\n  children: React.ReactNode\n  title?: string\n}\n\nfunction ToolbarButton({ onClick, active, disabled, children, title }: ToolbarButtonProps) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      disabled={disabled}\n      title={title}\n      className={cn(\n        'p-2 rounded-md text-sm font-medium transition-colors',\n        'hover:bg-mw-gray-100 dark:hover:bg-mw-gray-700',\n        'focus:outline-none focus:ring-2 focus:ring-mw-blue-500',\n        active && 'bg-mw-blue-100 dark:bg-mw-blue-900/20 text-mw-blue-700 dark:text-mw-blue-300',\n        disabled && 'opacity-50 cursor-not-allowed',\n        !active && 'text-mw-gray-600 dark:text-mw-gray-300'\n      )}\n    >\n      {children}\n    </button>\n  )\n}\n\nexport function RichTextEditor({\n  value = '',\n  onChange,\n  placeholder = 'Start writing...',\n  disabled = false,\n  readOnly = false,\n  minHeight = 200,\n  maxHeight = 500,\n  showToolbar = true,\n  toolbarPosition = 'top',\n  enablePreview = false,\n  className,\n  onFocus,\n  onBlur\n}: RichTextEditorProps) {\n  const [content, setContent] = useState(value)\n  const [isPreview, setIsPreview] = useState(false)\n  const [selection, setSelection] = useState<{ start: number; end: number } | null>(null)\n  const editorRef = useRef<HTMLDivElement>(null)\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\n\n  useEffect(() => {\n    setContent(value)\n  }, [value])\n\n  const handleContentChange = useCallback((newContent: string) => {\n    setContent(newContent)\n    onChange?.(newContent)\n  }, [onChange])\n\n  const execCommand = useCallback((command: string, value?: string) => {\n    if (disabled || readOnly) return\n    \n    document.execCommand(command, false, value)\n    if (editorRef.current) {\n      editorRef.current.focus()\n      const newContent = editorRef.current.innerHTML\n      handleContentChange(newContent)\n    }\n  }, [disabled, readOnly, handleContentChange])\n\n  const insertText = useCallback((before: string, after: string = '') => {\n    if (!textareaRef.current || disabled || readOnly) return\n    \n    const textarea = textareaRef.current\n    const start = textarea.selectionStart\n    const end = textarea.selectionEnd\n    const selectedText = content.substring(start, end)\n    const newText = before + selectedText + after\n    \n    const newContent = content.substring(0, start) + newText + content.substring(end)\n    handleContentChange(newContent)\n    \n    // Set new cursor position\n    setTimeout(() => {\n      textarea.focus()\n      textarea.setSelectionRange(start + before.length, start + before.length + selectedText.length)\n    }, 0)\n  }, [content, disabled, readOnly, handleContentChange])\n\n  const formatCommands = {\n    bold: () => insertText('**', '**'),\n    italic: () => insertText('*', '*'),\n    underline: () => insertText('_', '_'),\n    strikethrough: () => insertText('~~', '~~'),\n    code: () => insertText('`', '`'),\n    link: () => {\n      const url = prompt('Enter URL:')\n      if (url) insertText('[', `](${url})`)\n    },\n    image: () => {\n      const url = prompt('Enter image URL:')\n      if (url) insertText('![', `](${url})`)\n    },\n    quote: () => insertText('> '),\n    bulletList: () => insertText('- '),\n    numberedList: () => insertText('1. '),\n    heading1: () => insertText('# '),\n    heading2: () => insertText('## '),\n    heading3: () => insertText('### ')\n  }\n\n  const toolbar = showToolbar && (\n    <div className=\"flex items-center gap-1 p-2 border-b border-mw-gray-200 dark:border-mw-gray-700 bg-mw-gray-50 dark:bg-mw-gray-800/50\">\n      <div className=\"flex items-center gap-1\">\n        <ToolbarButton onClick={formatCommands.bold} title=\"Bold\">\n          <Bold className=\"w-4 h-4\" />\n        </ToolbarButton>\n        <ToolbarButton onClick={formatCommands.italic} title=\"Italic\">\n          <Italic className=\"w-4 h-4\" />\n        </ToolbarButton>\n        <ToolbarButton onClick={formatCommands.underline} title=\"Underline\">\n          <Underline className=\"w-4 h-4\" />\n        </ToolbarButton>\n        <ToolbarButton onClick={formatCommands.strikethrough} title=\"Strikethrough\">\n          <Strikethrough className=\"w-4 h-4\" />\n        </ToolbarButton>\n      </div>\n      \n      <div className=\"w-px h-6 bg-mw-gray-300 dark:bg-mw-gray-600 mx-1\" />\n      \n      <div className=\"flex items-center gap-1\">\n        <ToolbarButton onClick={formatCommands.heading1} title=\"Heading 1\">\n          <Type className=\"w-4 h-4\" />\n        </ToolbarButton>\n        <ToolbarButton onClick={formatCommands.quote} title=\"Quote\">\n          <Quote className=\"w-4 h-4\" />\n        </ToolbarButton>\n        <ToolbarButton onClick={formatCommands.code} title=\"Code\">\n          <Code className=\"w-4 h-4\" />\n        </ToolbarButton>\n      </div>\n      \n      <div className=\"w-px h-6 bg-mw-gray-300 dark:bg-mw-gray-600 mx-1\" />\n      \n      <div className=\"flex items-center gap-1\">\n        <ToolbarButton onClick={formatCommands.bulletList} title=\"Bullet List\">\n          <List className=\"w-4 h-4\" />\n        </ToolbarButton>\n        <ToolbarButton onClick={formatCommands.numberedList} title=\"Numbered List\">\n          <ListOrdered className=\"w-4 h-4\" />\n        </ToolbarButton>\n      </div>\n      \n      <div className=\"w-px h-6 bg-mw-gray-300 dark:bg-mw-gray-600 mx-1\" />\n      \n      <div className=\"flex items-center gap-1\">\n        <ToolbarButton onClick={formatCommands.link} title=\"Insert Link\">\n          <Link className=\"w-4 h-4\" />\n        </ToolbarButton>\n        <ToolbarButton onClick={formatCommands.image} title=\"Insert Image\">\n          <Image className=\"w-4 h-4\" />\n        </ToolbarButton>\n      </div>\n      \n      {enablePreview && (\n        <>\n          <div className=\"w-px h-6 bg-mw-gray-300 dark:bg-mw-gray-600 mx-1\" />\n          <ToolbarButton\n            onClick={() => setIsPreview(!isPreview)}\n            active={isPreview}\n            title={isPreview ? 'Edit' : 'Preview'}\n          >\n            {isPreview ? <Edit3 className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\n          </ToolbarButton>\n        </>\n      )}\n    </div>\n  )\n\n  const editor = (\n    <div className=\"relative flex-1\">\n      {isPreview ? (\n        <div\n          className=\"p-3 prose prose-sm max-w-none dark:prose-invert\"\n          style={{ minHeight, maxHeight }}\n        >\n          <div dangerouslySetInnerHTML={{ __html: content.replace(/\\n/g, '<br>') }} />\n        </div>\n      ) : (\n        <textarea\n          ref={textareaRef}\n          value={content}\n          onChange={(e) => handleContentChange(e.target.value)}\n          placeholder={placeholder}\n          disabled={disabled}\n          readOnly={readOnly}\n          onFocus={onFocus}\n          onBlur={onBlur}\n          className={cn(\n            'w-full p-3 border-0 resize-none focus:outline-none',\n            'bg-white dark:bg-mw-gray-900',\n            'text-mw-gray-900 dark:text-white',\n            'placeholder-mw-gray-500 dark:placeholder-mw-gray-400',\n            disabled && 'opacity-50 cursor-not-allowed'\n          )}\n          style={{ minHeight, maxHeight }}\n        />\n      )}\n    </div>\n  )\n\n  return (\n    <div\n      className={cn(\n        'border border-mw-gray-300 dark:border-mw-gray-600 rounded-lg overflow-hidden',\n        'bg-white dark:bg-mw-gray-900',\n        'focus-within:ring-2 focus-within:ring-mw-blue-500 focus-within:border-transparent',\n        disabled && 'opacity-50',\n        className\n      )}\n    >\n      {toolbarPosition === 'top' && toolbar}\n      {editor}\n      {toolbarPosition === 'bottom' && toolbar}\n    </div>\n  )\n}\n\nexport default RichTextEditor\n"]}